<!DOCTYPE html>
<html>
<head>




<meta charset="UTF-8">
<script src="/static/js/jquery.1.10.2.min.js"></script>

<link rel="stylesheet"
	href="/static/css/bootstrap-3.3.7/css/bootstrap.min.css" />
<script
	src="https://cdn.bootcss.com/jquery.serializeJSON/2.9.0/jquery.serializejson.js"></script>

</head>

<body>


	<ul class="nav nav-tabs">
		<li><a href="cms/getArtilceByCategory.do">新增报表</a></li>

	</ul>
	<br>


	<form id="saveProduct" class="form-horizontal" role="form" action=""
		method="post" onsubmit="return check()">


		<div class="form-group">
			<label for="loginname" class="col-sm-1 control-label">名称</label>
			<div class="col-sm-3">
				<input id="name" type="text" id="deviceName"
					class="form-control input-xxlarge measure-input required"
					name="name" placeholder="" value="">

			</div>

			<label for="loginname" class="col-sm-1 control-label">mobile</label>
			<div class="col-sm-3">
				<input type="text" id="mobile"
					class="form-control input-xxlarge measure-input required"
					name="mobile" placeholder="" value="">

			</div>

			<label for="loginname" class="col-sm-1 control-label">age</label>
			<div class="col-sm-3">
				<input type="text" id="mobile"
					class="form-control input-xxlarge measure-input required"
					name="age " placeholder="" value=""> 
			</div>
		</div>


	<div class="form-group">
			<label for="loginname" class="col-sm-1 control-label">名称</label>
			<div class="col-sm-3">
				<input id="name" type="text" id="deviceName"
					class="form-control input-xxlarge measure-input required"
					name="name" placeholder="" value="">

			</div>

			<label for="loginname" class="col-sm-1 control-label">mobile</label>
			<div class="col-sm-3">
				<input type="text" id="mobile"
					class="form-control input-xxlarge measure-input required"
					name="mobile" placeholder="" value="">

			</div>

			<label for="loginname" class="col-sm-1 control-label">age</label>
			<div class="col-sm-3">
				<input type="text" id="mobile"
					class="form-control input-xxlarge measure-input required"
					name="age " placeholder="" value=""> 
			</div>
		</div>










		<table class="table table-bordered table-hover">

			<tr class="text-danger">
				<td class="text-center"></td>
				<td class="text-center">商品名称</td>
				<td class="text-center">库存</td>
				<td class="text-center">操作</td>
			</tr>


			<tr class="text-danger">
				<td class="text-center"><input type="checkbox" class="check"
					name='check' value="11"></td>
				<td class="text-center">11</td>
				<td class="text-center">11</td>
				<td class="text-center">11</td>
			</tr>


			<tr class="text-danger">
				<td class="text-center"><input type="checkbox" class="check"
					name='check' value="22"></td>
				<td class="text-center">22</td>
				<td class="text-center">22</td>
				<td class="text-center">22</td>
			</tr>

		</table>



		<div
			style="background-color: #F5F5F5; width: 100%; height: 80px; padding-top: 20px;">

			<div class="col-sm-offset-2 col-sm-10">

				<input id="btnSubmit" class="btn btn-primary" type="button"
					onclick="addEnv5()"
					value="保 存List<model>  前台得是json字符串   组装jsonarray" />&nbsp; <br>



			</div>
		</div>



	</form>
</body>

<script type="text/javascript">
	function addEnv5() {

		var names = [];

		$("input[name='check']:checked").each(function() {

			names.push($(this).val());
		})

		console.log(names);

		var data = $("#saveProduct").serializeArray();

		//JSON.stringify(customerArray)
		//JSON.parse(names)

		
		
		// 1 这种方式可以  
		var params = [];
		$("#saveProduct").find("div.form-group").each(function() {

			var name = $(this).find("input[name='name']").eq(0).val();
			var mobile = $(this).find("input[name='mobile']").eq(0).val();

			params.push({
				"name" : name,
				"mobile" : mobile
			});//id,value 为java bean里的属性，名字一致
		})

		console.log(JSON.stringify(params));
		
		
		// 方式2 不行    
		
				var data = $("#saveProduct").serializeArray();
				console.log(data);


		$.ajax({
			type : "post",
			url : "/test/getList5?promotionUuid=promotionUuid001",
			data : JSON.stringify(params),
			dataType : "json",
			contentType : 'application/json;charset=utf-8', //设置请求头信息

			success : function(data) {

			}
		});
	}
</script>
</html>
